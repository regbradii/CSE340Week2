<% if (title) { %>
    <h1><%= title %></h1>
    <% } else {
      res.redirect('/')
    } %>

<%- messages() %>

<% if (errors) { %>
    <ul class="notice">
   <% errors.array().forEach(error => { %>
     <li><%= error.msg %></li>
  <%  }) %>
   </ul>
  <% } %>

<%# This is the form for the user to register including first and last name, email address and password %>
<form method="post" action="/account/register">
    <div>
        <label for="firstName">First Name</label>
        <input type="text" name="firstname" id="accountFirstname" required value="<%= locals.firstname %>">
    </div>
    <div>
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" name="lastname" required value="<%= locals.lastname %>">
    </div>
    <div>
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required value="<%= locals.email %>">
    </div>
    <%# Password requirements: 12 characters, 1 uppercase letter, 1 number, 1 special character %>
    <div class="password-requirements">
        Password must be at least 12 characters and contain at least one uppercase letter, one number, and one special character.
    </div>
    <div>
        <label for="password">Password</label>
        <input type="password" id="password" name="password" required pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$">
    </div>
    <div>
        <button type="submit">Register</button>
    </div>
    <div class="form-footer">
      Already have an account? 
      <a href="/account/login">Log In</a>
    </div>
<form>
    